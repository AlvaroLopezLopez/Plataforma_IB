"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3248],{13248:function(e,r,t){t.d(r,{rh:function(){return l},U0:function(){return I},Mc:function(){return M},Cd:function(){return G},mH:function(){return Y},u$:function(){return S}});var n=t(52322),i=t(14313),a=t(57542),s=t(68192);let o=e=>{let{type:r}=e;switch(r){case"NewPasswordRequired":return(0,n.jsx)(a.kE,{children:"You need to activate your account via the activation email."});case"InvalidCredentials":return(0,n.jsxs)(a.kE,{children:["Email and password combination is incorrect. ",(0,n.jsx)("br",{}),"Please try again."]});case"SessionExpired":return(0,n.jsx)(a.kE,{variant:"warning",children:"Your session has expired. Please log in again"});case"TempPasswordExpired":return(0,n.jsxs)(a.kE,{children:["The activation period has expired. ",(0,n.jsx)("br",{}),"Please contact support"]});default:return null}},l=e=>(0,n.jsx)(i.Z,{theme:s.rS,children:(0,n.jsx)(o,{...e})});var c=t(2784),d=t(30195),u=t(39097),m=t.n(u),x=t(78502),h=t(81836),p=t(88896),g=t(76385),j=t(71946),f=t(9736),b=t(47137),y=t(89621),v=t(24502),w=t(96802),Z=t(50895),C=t(94482);let k=e=>{let{prefix:r,disabled:t,ButtonProps:i}=e;return(0,n.jsx)(n.Fragment,{children:S.map((e,a)=>(0,n.jsx)(e,{prefix:r,disabled:t,ButtonProps:i},a))})},S=[e=>{let{prefix:r,disabled:t,ButtonProps:i}=e;return(0,n.jsxs)(j.Z,{variant:"outline",startIcon:(0,n.jsx)(C._8,{}),disabled:t,...i,onClick:e=>{var r;null==i||null===(r=i.onClick)||void 0===r||r.call(i,e),(0,Z.F)({provider:"Google"})},children:[r,"Google"]})}],P=d.z.object({email:d.z.string().email("Please enter a valid email").min(1,"must not be empty"),password:d.z.string().min(1,"must not be empty")}),I=e=>{let{textInputVariant:r="inverse"}=e,t=(0,x.Z)(),[i]=(0,f.CJ)("SSO_LOGIN_LIVE");return(0,c.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("error_description");e&&((null==e?void 0:e.includes("An account with this email address already exists"))?v.A9.error("An account with this email address already exists. Please login with your existing account."):(w.kg.error("An unexpected error occurred during SSO login",{errorDescription:e}),v.A9.error("An error occurred while logging in. Please try again. If the problem persists, contact support.")))},[]),(0,n.jsxs)(n.Fragment,{children:[i&&(0,n.jsxs)(h.Z,{gap:3,marginTop:3,children:[(0,n.jsx)(h.Z,{spacing:2,children:(0,n.jsx)(k,{prefix:"Login with ",disabled:e.isSubmitting})}),(0,n.jsx)(p.Z,{sx:{mb:3},children:(0,n.jsx)(g.Z,{variant:"p-sm-rg",color:t.colors.textIcon.info,children:"Or login with email"})})]}),(0,n.jsxs)(b.zz,{schema:P,...e,formProps:{style:{display:"flex",flexDirection:"column",width:"100%",margin:0}},children:[(0,n.jsxs)(h.Z,{spacing:"24px",mb:"24px",children:[(0,n.jsx)(y.PV,{variant:r,name:"email",label:"Email",type:"email",placeholder:"Enter your email",readOnly:!1}),(0,n.jsxs)(h.Z,{gap:"8px",children:[(0,n.jsx)(y.PV,{variant:r,name:"password",label:"Password",type:"password",placeholder:"Enter your password",readOnly:!1}),(0,n.jsx)(m(),{href:"/reset-password-request/",style:{textDecoration:"none",display:"flex",justifyContent:"flex-end"},children:(0,n.jsx)(g.Z,{textAlign:"center",variant:"p-sm-rg",color:t.colors.textIcon.standout,children:"Forgot Password?"})})]})]}),(0,n.jsx)(j.Z,{variant:"solid",color:"cta",type:"submit",disabled:e.isSubmitting,"data-analytics-on":"click","data-analytics-name":"clickLoginSubmit",children:(0,n.jsx)(a.aN,{isLoading:e.isSubmitting,size:20,sx:{margin:"auto",mt:.5,color:"#fff"},children:"Submit"})})]})]})};var z=t(52519),E=t(59888),A=t(84311),F=t(81014),N=t(28573);let V=w.kg.child({from:"MfaVerificationModal"}),D=e=>{let{open:r,setIsOpen:t,selectedMfaPreference:i}=e,s=(0,x.Z)(),{verifyMfaSignInCode:o}=(0,N.Sv)(),[l,d]=(0,c.useState)(!1),[u,m]=(0,c.useState)(""),p=async()=>{d(!0);try{await o(u),t(!1)}catch(e){switch(e.name){case"CodeMismatchException":v.A9.error("Invalid MFA token provdied. Please try again",{autoHideDuration:2e3});break;case"NotAuthorizedException":v.A9.error(e.message,{autoHideDuration:2e3});break;default:v.A9.error("An error occurred. Please try again later.",{autoHideDuration:2e3}),V.warn("Failed to verify MFA sign in code",{error:e})}i===N.Wi.Email&&f()}d(!1)},f=()=>{t(!1),m(""),v.A9.error("MFA is required to continue.",{autoHideDuration:2e3})},b=(0,n.jsxs)(z.Z,{sx:{width:{xs:"90%",md:"464px"},p:2},children:[(0,n.jsxs)(h.Z,{mb:0,children:[(0,n.jsx)(E.Z,{display:"flex",justifyContent:"center",children:(0,n.jsx)(a.ig,{Icon:C.CW,base:s.colors.common.brand[100],accent:s.colors.ui.cta,sx:{width:"52px",height:"52px"}})}),(0,n.jsxs)(h.Z,{mb:1,spacing:1,alignItems:"center",children:[(0,n.jsx)(g.Z,{pt:2,color:s.colors.textIcon.primary,variant:"h5",children:"Verify authentication code"}),(0,n.jsxs)(g.Z,{pb:3,textAlign:"center",variant:"p-sm-rg",color:s.colors.textIcon.sub,children:[i===N.Wi.Email&&"Please enter the ".concat(N.zY,"-digit code sent to your email. It may take a few minutes to arrive."),i===N.Wi.TOTP&&"Please enter the ".concat(N.zY,"-digit code from your authenticator app.")]})]})]}),(0,n.jsxs)(h.Z,{children:[(0,n.jsx)(A.nq,{onChange:m,value:u}),(0,n.jsxs)(E.Z,{display:"flex",pt:3,justifyContent:"space-between",alignItems:"center",alignSelf:"stretch",children:[(0,n.jsx)(j.Z,{onClick:f,variant:"outline",color:"secondary",sx:{"&&":{width:"124px"}},children:"Close"}),(0,n.jsx)(j.Z,{variant:"secondary-md",onClick:p,disabled:u.length!==N.zY,sx:{"&&":{width:"124px",color:u.length!==N.zY?s.colors.textIcon.disabled:s.palette.common.white,backgroundColor:u.length!==N.zY?s.colors.button.disabled:s.colors.ui.cta}},children:(0,n.jsx)(a.aN,{isLoading:l,size:20,sx:{margin:"auto",mt:.5,color:s.palette.common.white},children:"Verify"})})]})]})]});return(0,n.jsx)(a.u_,{disableMobileDrawer:!0,containerStyle:{borderRadius:4},scrollable:!0,open:r,onClose:f,analyticsName:"mfaVerificationModal",children:b})},M=e=>(0,n.jsx)(i.Z,{theme:F.rS,children:(0,n.jsx)(D,{...e})});d.z.object({password:d.z.string().min(8,"must be at least 8 characters"),confirmPassword:d.z.string()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});var L=t(96577),R=t.n(L),_=t(9763),T=t(57493),O=t(63955);let Q=()=>{let e=(0,O.qo)({name:"kind"});return(0,n.jsx)(O.Qr,{name:"kind",render:r=>{let{field:t}=r;return(0,n.jsx)(A.FU,{value:e,onChange:t.onChange})}})},Y=()=>{let e=(0,x.Z)();return(0,n.jsxs)(h.Z,{alignItems:"row",justifyContent:"center",height:"100%",spacing:3,children:[(0,n.jsx)(R(),{src:T.qy,alt:"Niaomi",width:96,height:96,style:{borderRadius:"50%",overflow:"hidden",objectFit:"cover",border:"2px solid ".concat(e.colors.ui.bg_panel),margin:"0 auto"}}),(0,n.jsx)(g.Z,{variant:"p-lg-rg",sx:{width:"100%",textAlign:"center",color:e.colors.textIcon.placeholder},children:"Hey \uD83D\uDE42 I really like your website! It is really user-friendly and there are so many exam questions to practice and videos to watch. So far, it has helped me a lot… so thanks!"}),(0,n.jsxs)(h.Z,{children:[(0,n.jsx)(g.Z,{variant:"p-md-semibold",sx:{width:"100%",textAlign:"center",color:e.colors.textIcon.placeholder},children:"Niaomi H."}),(0,n.jsx)(g.Z,{variant:"p-sm-rg",sx:{width:"100%",textAlign:"center",color:e.colors.textIcon.info},children:"IBDP Student Canada‚\xa02021."})]})]})},q=d.z.object({kind:d.z.enum([_.VF.Student,_.VF.Teacher]),firstName:d.z.string().min(1,"must not be empty"),lastName:d.z.string().min(1,"must not be empty"),email:d.z.string().email("Please enter a valid email").min(1,"must not be empty"),confirmEmail:d.z.string().email("Please enter a valid email").min(1,"must not be empty"),termsAndConditions:d.z.literal(!0)}).superRefine((e,r)=>{let{email:t,confirmEmail:n}=e;n!==t&&r.addIssue({code:"custom",message:"Emails do not match",path:["confirmEmail"]})}),H={kind:_.VF.Student},G=e=>{let r=(0,x.Z)(),[t]=(0,f.CJ)("SSO_LOGIN_LIVE");return(0,n.jsxs)(y.zz,{schema:q,...e,useFormProps:{defaultValues:{...H}},formProps:{style:{display:"flex",flexDirection:"column",width:"100%"}},children:[t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.Z,{spacing:2,children:(0,n.jsx)(k,{prefix:"Sign up with "})}),(0,n.jsx)(p.Z,{sx:{my:3},children:(0,n.jsx)(g.Z,{variant:"p-sm-rg",color:r.colors.textIcon.info,children:"Or sign up with email"})})]}),(0,n.jsxs)(h.Z,{spacing:4,children:[(0,n.jsxs)(h.Z,{spacing:3,children:[(0,n.jsx)(Q,{}),(0,n.jsx)(p.Z,{flexItem:!0,sx:{borderColor:r.colors.ui.border}}),(0,n.jsxs)(h.Z,{direction:"row",spacing:2,children:[(0,n.jsx)(y.PV,{name:"firstName",label:"First Name",placeholder:"First name",variant:"inverse"}),(0,n.jsx)(y.PV,{name:"lastName",label:"Last Name",placeholder:"Last name",variant:"inverse"})]}),(0,n.jsx)(y.PV,{name:"email",label:"Email",type:"email",placeholder:"Enter your email",variant:"inverse"}),(0,n.jsx)(y.PV,{name:"confirmEmail",label:"Confirm Email",type:"email",placeholder:"Confirm your email",variant:"inverse"})]}),(0,n.jsx)(y.xj,{name:"termsAndConditions",errorMessage:"You must agree to the Terms & Conditions",label:(0,n.jsxs)(g.Z,{variant:"p-sm-rg",color:r.colors.textIcon.primary,children:["I agree to the Revision Village"," ",(0,n.jsx)(m(),{href:"/terms-and-conditions",style:{textDecoration:"none",color:r.colors.common.brand[600]},target:"_blank",children:"Terms and Conditions"})]})}),(0,n.jsx)(j.Z,{variant:"solid",color:"cta",type:"submit",disabled:e.isSubmitting,"data-analytics-on":"click","data-analytics-name":"clickSignUpSubmit",children:(0,n.jsx)(a.aN,{isLoading:e.isSubmitting,size:20,sx:{margin:"auto",mt:.5,color:r.colors.textIcon.inverse},children:"Create"})})]})]})}},47137:function(e,r,t){t.d(r,{Zr:function(){return s},zz:function(){return l},dk:function(){return x},aX:function(){return p},MD:function(){return j},PV:function(){return k},kN:function(){return P},gh:function(){return I},ul:function(){return z},y5:function(){return C}});var n=t(52322),i=t(63955),a=t(31905);let s=e=>{let{name:r,...t}=e,{setError:s,clearErrors:o}=(0,i.Gc)();return(0,n.jsx)(i.Qr,{name:r,render:e=>{let{field:i}=e;return(0,n.jsx)(a.M,{...t,...i,onError:e=>{e?s(r,{type:"validate",message:e}):o(r)}})}})};var o=t(88883);let l=e=>{let{schema:r,onSubmit:t,useFormProps:a={},formProps:s={},children:l}=e,c=(0,i.cI)({resolver:(0,o.F)(r),mode:"onBlur",...a});return(0,n.jsx)(i.RV,{...c,children:(0,n.jsx)("form",{noValidate:!0,...s,onSubmit:c.handleSubmit(t),children:l})})};var c=t(78502),d=t(81836),u=t(76385),m=t(15794);let x=e=>{let{name:r,label:t,...a}=e,s=(0,c.Z)();return(0,n.jsx)(i.Qr,{name:r,render:e=>{let{field:r}=e;return(0,n.jsxs)(d.Z,{spacing:.75,children:[t&&(0,n.jsx)(u.Z,{variant:"p-sm-semibold",children:t}),(0,n.jsx)(m.Z,{...a,...r,sx:{background:"#fff",border:"1px solid ".concat(s.palette.grey[100]),borderRadius:2,"& > fieldset":{border:"none"},...a.sx},onChange:(e,t)=>{var n;r.onChange(e),null===(n=a.onChange)||void 0===n||n.call(a,e,t)}})]})}})};var h=t(57542);let p=e=>{let{name:r,...t}=e;return(0,n.jsx)(i.Qr,{name:r,render:e=>{let{field:r}=e;return(0,n.jsx)(h.rs,{...t,...r,checked:!!r.value,onChange:(e,n)=>{var i;r.onChange(e,n),null===(i=t.onChange)||void 0===i||i.call(t,e,n)}})}})};var g=t(48736);let j=e=>{let{name:r,...t}=e;return(0,n.jsx)(i.Qr,{name:r,render:e=>{let{field:r,fieldState:{error:i}}=e;return(0,n.jsx)(g.Z,{...t,...r,error:!!i,helperText:null==i?void 0:i.message,onChange:e=>{var n;r.onChange(e),null===(n=t.onChange)||void 0===n||n.call(t,e)}})}})};var f=t(2784),b=t(70560),y=t(70057),v=t(89147),w=t(52228);let Z=e=>{let{children:r}=e,t=(0,c.Z)();return(0,n.jsxs)(d.Z,{flexDirection:"row",alignItems:"center",p:1,width:"100%",borderRadius:1,sx:{background:t.palette.error[50],marginTop:"".concat(t.spacing(1)," !important")},children:[(0,n.jsx)(w.Z,{sx:{fontSize:"1em",mr:1,fill:t.palette.error[500]}}),(0,n.jsx)(u.Z,{variant:"p-sm-semibold",color:t.palette.grey[800],children:r})]})},C=(0,f.forwardRef)((e,r)=>{let{label:t,labelPlacement:i="top",type:a="text",name:s,value:o,error:l,errorMessage:m,...x}=e,h=(0,c.Z)(),[p,g]=(0,f.useState)(!1),[j,w]=(0,f.useState)(a),C=p?y.Z:v.Z;return(0,n.jsxs)(d.Z,{direction:"left"===i?"row":"column",spacing:"left"===i?1.5:.75,width:"100%",alignItems:"left"===i?"center":"stretch",children:[(0,n.jsx)("label",{htmlFor:s,children:t&&(0,n.jsx)(u.Z,{variant:"p-sm-semibold",color:h.palette.grey[800],children:t})}),(0,n.jsx)(b.ZP,{inputRef:r,id:s,value:null!=o?o:"",type:j,error:l,endAdornment:"password"===a?(0,n.jsx)(C,{fontSize:"small",onClick:()=>{w(p?"password":"text"),g(!p)},sx:{fill:h.palette.grey[700],cursor:"pointer"}}):null,sx:[{background:"#fff",border:"1px solid ".concat(h.palette.grey[100]),height:h.spacing(5.5),padding:"".concat(h.spacing(.8)," ").concat(h.spacing(1.875)),borderRadius:h.spacing(1),"& > input::placeholder":{color:"".concat(h.palette.grey[400]," !important"),opacity:"1 !important"}},!!l&&{border:"2px solid ".concat(h.palette.error[400])}],inputProps:{style:{fontSize:h.spacing(2),fontWeight:400,color:h.palette.grey[800]}},...x}),l&&(0,n.jsx)(Z,{children:m})]})});C.displayName="TextInputBase";let k=e=>{let{parseError:r,name:t,...a}=e;return(0,n.jsx)(i.Qr,{name:t,render:e=>{let{field:t,fieldState:{invalid:i,error:s}}=e,o=s&&"function"==typeof r?r(s):null==s?void 0:s.message;return(0,n.jsx)(C,{error:i,errorMessage:s?o:"",...a,...t})}})};var S=t(76835);let P=e=>{let{name:r,...t}=e,{setError:a,clearErrors:s}=(0,i.Gc)();return(0,n.jsx)(i.Qr,{name:r,render:e=>{let{field:i}=e;return(0,n.jsx)(S.j,{...t,...i,onError:e=>{e?a(r,{type:"validate",message:e}):s(r)}})}})},I=e=>{let{name:r,enforceValueSet:t,...a}=e;return(0,n.jsx)(i.Qr,{name:r,render:e=>{let{field:r}=e;return(0,n.jsx)(h.th,{...a,...r,onChange:(e,n)=>{var i;(!t||n)&&(r.onChange(n),null===(i=a.onChange)||void 0===i||i.call(a,e,n))}})}})},z=e=>{let{errorMessage:r,...t}=e,i=(0,c.Z)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.Z,{variant:"standard",disableUnderline:!0,...t,sx:{background:i.palette.common.white,border:"1px solid ".concat(i.palette.grey[100]),borderRadius:2,height:i.spacing(5.5),marginTop:i.spacing(.75),paddingLeft:i.spacing(.75),"&.Mui-focused .MuiSelect-select":{background:i.palette.common.white},...t.sx},children:t.children}),t.error&&(0,n.jsx)(Z,{children:r})]})}}}]);